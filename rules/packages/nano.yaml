package: nano
classes:
- nls-disabled
rules:
  drop_buildrequires:
  - groff
  configure_flags:
    add:
    - --disable-libmagic
  drop_subpackages:
  - default-editor
  - -n default-editor
  spec_replacements:
  - pattern: '%autosetup -S git'
    replacement: '%autosetup -p1'
  - pattern: '%{gpgverify} --keyring=''%{SOURCE2}'' --signature=''%{SOURCE1}'' --data=''%{SOURCE0}'''
    replacement: '# gpgverify removed for cross-build'
  - pattern: '%configure'
    replacement: 'export LIBS="$LIBS -lgen"

      %configure'
  - pattern: "sed -e 's/^#.*set speller.*$/set speller \"hunspell\"/' \\\n    -e 's|^# \\(include \"/usr/share/nano/\\*.nanorc\"\\)|\\1|' \\\n    %{SOURCE3} doc/sample.nanorc > ./nanorc\n"
    replacement: "sed -e 's|^# \\(include \"/usr/sgug/share/nano/\\*.nanorc\"\\)|\\1|' \\\n    %{SOURCE3} doc/sample.nanorc > ./nanorc\n"
  - pattern: '%files -f build/%{name}.lang'
    replacement: '%files'
  - pattern: '%{_infodir}/nano.info*'
    replacement: ''
  - pattern: '%doc doc/{faq,nano}.html'
    replacement: ''
  - pattern: '%{_bindir}/{,r}nano'
    replacement: '%{_bindir}/nano

      %{_bindir}/rnano'
  - pattern: '%{_mandir}/man1/{,r}nano.1*'
    replacement: '%{_mandir}/man1/nano.1*

      %{_mandir}/man1/rnano.1*'
  install_cleanup:
  - rm -rf %{buildroot}%{_infodir}
  - rm -rf %{buildroot}%{_docdir}/nano

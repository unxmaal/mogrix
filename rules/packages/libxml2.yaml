# libxml2 - XML parsing library
# Has sgifixes patches

package: libxml2

rules:
  # Compat functions that may be needed
  inject_compat_functions:
    - strdup
    - strndup

  # Autoconf cache overrides
  ac_cv_overrides:
    ac_cv_func_malloc_0_nonnull: "yes"
    ac_cv_func_realloc_0_nonnull: "yes"

  # Configure flags
  configure_flags:
    add:
      - --disable-silent-rules
      - --without-python
      - --without-icu
      - --with-zlib
      - --with-lzma
    remove:
      - --with-python

  configure_disable:
    - static

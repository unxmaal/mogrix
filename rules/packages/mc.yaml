package: mc
rules:
  drop_buildrequires:
  - e2fsprogs-devel
  - groff-base
  - check-devel
  - aspell-en
  configure_disable:
  - vfs-sftp
  - aspell
  - cons-saver
  configure_flags:
    add:
    - --with-screen=slang
  drop_subpackages:
  - python
  spec_replacements:
  - pattern: contrib/mc.{sh,csh}
    replacement: contrib/mc.sh contrib/mc.csh
  - pattern: /etc/profile.d/*
    replacement: '%{_sysconfdir}/profile.d/*'
  - pattern: '%attr(755,root,root) %{_libexecdir}/mc/cons.saver'
    replacement: '# cons.saver disabled â€” Linux virtual console only'
  - pattern: '%{_sysconfdir}/mc/edit*

      %config(noreplace) %{_sysconfdir}/mc/*'
    replacement: '%config(noreplace) %{_sysconfdir}/mc/*'
  - pattern: '%make_install'
    replacement: '%make_install

      rm -rf %{buildroot}%{_mandir}/es %{buildroot}%{_mandir}/hu %{buildroot}%{_mandir}/it %{buildroot}%{_mandir}/pl %{buildroot}%{_mandir}/ru %{buildroot}%{_mandir}/sr'
  - pattern: '%exclude %{_libexecdir}/mc/extfs.d/{s3+,uc1541}'
    replacement: '%exclude %{_libexecdir}/mc/extfs.d/s3+

      %exclude %{_libexecdir}/mc/extfs.d/uc1541'

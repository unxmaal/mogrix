# pcre2 - Perl Compatible Regular Expressions v2
# May need compat functions

package: pcre2

rules:
  # Compat functions that may be needed
  inject_compat_functions:
    - strdup
    - strndup

  # Autoconf cache overrides
  ac_cv_overrides:
    ac_cv_func_malloc_0_nonnull: "yes"
    ac_cv_func_realloc_0_nonnull: "yes"

  # Configure flags
  configure_flags:
    add:
      - --enable-pcre2-16
      - --enable-pcre2-32
      - --enable-unicode
      - --disable-silent-rules
    remove:
      - --enable-jit
      - --enable-pcre2grep-jit

# libgcrypt - GnuPG crypto library
# Core crypto library for GnuPG ecosystem

package: libgcrypt

rules:
  # Autoconf cache overrides for cross-compilation
  # NOTE: ac_cv_func_malloc/realloc_0_nonnull handled by generic.yaml
  ac_cv_overrides:
    gcry_cv_gcc_has_platform_cflags: "no"

  # Configure flags
  configure_flags:
    add:
      - --disable-asm
      - --disable-amd64-as-feature-detection
      - --disable-jent-support
    remove:
      - --enable-m-guard

  # Disable hardware-specific features
  configure_disable:
    - padlock-support
    - drng-support
    - neon-support
    - ppc-crypto-support

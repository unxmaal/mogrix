# Meson cross file for IRIX N32 cross-compilation
# Used by mogrix to build meson-based packages

[binaries]
c = '/opt/sgug-staging/usr/sgug/bin/irix-cc'
cpp = '/opt/sgug-staging/usr/sgug/bin/irix-cxx'
ar = '/opt/cross/bin/llvm-ar'
strip = '/opt/cross/bin/llvm-strip'
pkgconfig = '/usr/bin/pkg-config'

[built-in options]
c_args = ['-I/opt/sgug-staging/usr/sgug/include/mogrix-compat/generic', '-Wno-macro-redefined', '-Dalloca=__builtin_alloca']
cpp_args = ['-I/opt/sgug-staging/usr/sgug/include/mogrix-compat/generic', '-Wno-macro-redefined', '-Dalloca=__builtin_alloca']
c_link_args = []
cpp_link_args = []

[properties]
# sys_root is used by meson as PKG_CONFIG_SYSROOT_DIR prefix for pkg-config paths.
# Must point to staging (where cross-built packages live), not irix-sysroot.
# IRIX native headers/libs are found via irix-cc/irix-ld wrappers, not sys_root.
sys_root = '/opt/sgug-staging'
pkg_config_libdir = '/opt/sgug-staging/usr/sgug/lib32/pkgconfig:/opt/sgug-staging/usr/sgug/share/pkgconfig'
# cairo: IRIX does NOT support IPC_RMID deferred release (shmctl before shmdt)
ipc_rmid_deferred_release = false

[host_machine]
system = 'irix'
cpu_family = 'mips'
cpu = 'mips3'
endian = 'big'

# libgcrypt - GnuPG crypto library
# Core crypto library for GnuPG ecosystem

package: libgcrypt

rules:
  # Autoconf cache overrides for cross-compilation
  ac_cv_overrides:
    ac_cv_func_malloc_0_nonnull: "yes"
    ac_cv_func_realloc_0_nonnull: "yes"
    gcry_cv_gcc_has_platform_cflags: "no"

  # Configure flags
  configure_flags:
    add:
      - --disable-asm
      - --disable-amd64-as-feature-detection
      - --disable-jent-support
    remove:
      - --enable-m-guard

  # Disable hardware-specific features
  configure_disable:
    - padlock-support
    - drng-support
    - neon-support
    - ppc-crypto-support
